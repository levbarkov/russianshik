!function(t){function e(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var n,a=e()+".mask",i=navigator.userAgent,s=/iphone/i.test(i),r=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,i){var o,c,l,u,d,m;return!e&&this.length>0?(o=t(this[0]),o.data(t.mask.dataName)()):(i=t.extend({placeholder:t.mask.placeholder,completed:null},i),c=t.mask.definitions,l=[],u=m=e.length,d=null,t.each(e.split(""),function(t,e){"?"==e?(m--,u=t):c[e]?(l.push(RegExp(c[e])),null===d&&(d=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function o(t){for(;m>++t&&!l[t];);return t}function f(t){for(;--t>=0&&!l[t];);return t}function h(t,e){var n,a;if(!(0>t)){for(n=t,a=o(e);m>n;n++)if(l[n]){if(!(m>a&&l[n].test(y[a])))break;y[n]=y[a],y[a]=i.placeholder,a=o(a)}v(),k.caret(Math.max(d,t))}}function p(t){var e,n,a,s;for(e=t,n=i.placeholder;m>e;e++)if(l[e]){if(a=o(e),s=y[e],y[e]=n,!(m>a&&l[a].test(s)))break;n=s}}function g(t){var e,n,a,i=t.which;8===i||46===i||s&&127===i?(e=k.caret(),n=e.begin,a=e.end,0===a-n&&(n=46!==i?f(n):a=o(n-1),a=46===i?o(a):a),$(n,a),h(n,a-1),t.preventDefault()):27==i&&(k.val(x),k.caret(0,b()),t.preventDefault())}function _(e){var n,a,s,c=e.which,u=k.caret();e.ctrlKey||e.altKey||e.metaKey||32>c||c&&(0!==u.end-u.begin&&($(u.begin,u.end),h(u.begin,u.end-1)),n=o(u.begin-1),m>n&&(a=String.fromCharCode(c),l[n].test(a)&&(p(n),y[n]=a,v(),s=o(n),r?setTimeout(t.proxy(t.fn.caret,k,s),0):k.caret(s),i.completed&&s>=m&&i.completed.call(k))),e.preventDefault())}function $(t,e){var n;for(n=t;e>n&&m>n;n++)l[n]&&(y[n]=i.placeholder)}function v(){k.val(y.join(""))}function b(t){var e,n,a=k.val(),s=-1;for(e=0,pos=0;m>e;e++)if(l[e]){for(y[e]=i.placeholder;pos++<a.length;)if(n=a.charAt(pos-1),l[e].test(n)){y[e]=n,s=e;break}if(pos>a.length)break}else y[e]===a.charAt(pos)&&e!==u&&(pos++,s=e);return t?v():u>s+1?(k.val(""),$(0,m)):(v(),k.val(k.val().substring(0,s+1))),u?e:d}var k=t(this),y=t.map(e.split(""),function(t){return"?"!=t?c[t]?i.placeholder:t:void 0}),x=k.val();k.data(t.mask.dataName,function(){return t.map(y,function(t,e){return l[e]&&t!=i.placeholder?t:null}).join("")}),k.attr("readonly")||k.one("unmask",function(){k.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var t;x=k.val(),t=b(),n=setTimeout(function(){v(),t==e.length?k.caret(0,t):k.caret(t)},10)}).bind("blur.mask",function(){b(),k.val()!=x&&k.change()}).bind("keydown.mask",g).bind("keypress.mask",_).bind(a,function(){setTimeout(function(){var t=b(!0);k.caret(t),i.completed&&t==k.val().length&&i.completed.call(k)},0)}),b()}))}})}(jQuery),$(document).ready(function(){$(".slider__slide-img").attr("src",function(t,e){$($(this).parent()).backstretch(e)}),$(".menu-catalog__item-img").attr("src",function(t,e){$($(this).parent()).backstretch(e)}),$(".popular__list-item-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".tips__tip-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".goods__photo-main-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".goods__photo-small-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".catalog__grid-item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".news__item-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".searched__item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".our-team__item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".individual-coat__form-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".news__item-working-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".catalog__linear-item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),function(){var t=$(".slider__slide"),e=$(".slider__controls-list-item"),n=t.size();e.css("width",100/n+"%"),e.each(function(t){t>=n&&$(this).css("display","none")})}(),$(".popular__list").mixItUp({animation:{duration:400,effects:"fade translateZ(-360px) stagger(34ms)",easing:"ease"},selectors:{target:".popular__list-item-col",filter:".popular__controls-btn"},layout:{display:"inline-block"},load:{filter:".category-2"}}),$("#slides-container").slick({speed:150,fade:!0,slide:".slider__slide",infinite:!0,autoplay:!0,autoplaySpeed:5e3,onAfterChange:function(t,e){$(".slider__controls-list-item").removeClass("active"),$($(".slider__controls-list-item")[e]).addClass("active")}}),$(".slider__controls-list-item").each(function(t,e){$(e).click(function(){$(".slider__controls-list-item").removeClass("active"),$(this).addClass("active"),$("#slides-container").slickGoTo(t)})}),$(".chosen-select").chosen({disable_search_threshold:10,width:"200px"}),$(".chosen-select-saw").chosen({disable_search_threshold:10,width:"120px"}),$(".fancybox-thumb").fancybox({prevEffect:"none",nextEffect:"none",helpers:{title:{type:"outside"},thumbs:{width:50,height:50}}});var t=$(".goods__amount-box-plus",".goods__amount-box"),e=$(".goods__amount-box-minus",".goods__amount-box"),n=$("#amount");t.click(function(){n.val(parseInt(n.val())+1)}),e.click(function(){n.val()<=1||n.val(parseInt(n.val())-1)})}),function(t){jQuery.fn.exists=function(){return jQuery(this).length},t(function(){if(t("#phone").exists()&&t("#phone").each(function(){t(this).mask("+7(999) 999-9999")}),t(".phone_form").exists()){var e=t(".phone_form"),n=e.find(".btn_submit");e.find(".rfield").addClass("empty_field"),setInterval(function(){if(t("#phone").exists()){var a=t("#phone");-1!=a.val().indexOf("_")||""==a.val()?a.addClass("empty_field"):a.removeClass("empty_field")}var i=e.find(".empty_field").size();if(i>0){if(n.hasClass("disabled"))return!1;n.addClass("disabled")}else n.removeClass("disabled")},200),n.click(function(){return t(this).hasClass("disabled")?!1:(e.submit(),void 0)})}})}(jQuery);