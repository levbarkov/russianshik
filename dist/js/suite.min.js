!function(t,e){window.touchSlider=function(i){function n(t){w.removeClass(i.currentClass).eq(t).addClass(i.currentClass)}function o(t,i){var n=m.current;n!==t&&(t=t!==e?t:n+1,y.to(t,{complete:i}))}function r(t){y.to(m.current+1,{dirX:1,complete:t})}function a(t){y.to(m.current-1,{dirX:-1,complete:t})}function s(){T&&u()}function u(){return T=!0,S||(clearTimeout(C),C=setTimeout(function(){!y.moving&&!S&&r()},i.delay)),i.container}function c(){return clearTimeout(C),T=!1,i.container}function l(){var e,i,n,o,r,a,s,u,c,l,f,m,_,w=t(document),M=!1,k=function(t){return t.which>1?void 0:(M&&w.triggerHandler(v+"."+h),M=!0,i=!1,e=t.timeStamp,s=m=0,n=[0,0,0,e],t.originalEvent.touches?void w.one(p,C):(t.preventDefault(),r=a=t.pageX,l=f=t.pageY,c=$[0].offsetLeft,o=[0,0,0,r],w.bind(g,S),w.one(v+"."+h,T),y.moveStart(t),void 0))},C=function(t){1===t.originalEvent.touches.length&&(r=a=t.pageX=t.originalEvent.touches[0].pageX,l=f=t.pageY=t.originalEvent.touches[0].pageY,u=_=0,c=new WebKitCSSMatrix(window.getComputedStyle($[0]).webkitTransform).e,o=[0,0,0,r],w.bind(g,S),w.one(v,T),y.moveStart(t))},S=function(e){var r,c;if(e.originalEvent.touches&&d){if(1!==e.originalEvent.touches.length)return;if(r=e.pageX=e.originalEvent.touches[0].pageX,c=e.pageY=e.originalEvent.touches[0].pageY,u+=Math.abs(r-a),_+=Math.abs(c-f),Math.abs(u-_)>50){var l=u;u=Math.min(100,Math.max(0,u-_)),_=Math.min(100,Math.max(0,_-l))}if(r===a)return;i||(u>_?(e.preventDefault(),i=!0):T(e))}else{if(r=e.pageX,c=e.pageY,r===a)return;t.browser.msie&&e.preventDefault()}s+=Math.abs(r-a),m+=Math.abs(c-f),n.shift(),n.push(e.timeStamp),o.shift(),o.push(r),y.move(e,a),a=r,f=c},T=function(t){M=!1,(!t.originalEvent||t.originalEvent.touches)&&(t.pageX=a,t.pageY=f),w.unbind(g,S);for(var i=n.length,r=0,u=0;--i>0;)if(n[i-1]){var c=o[i]-o[i-1];r+=Math.abs(c)/(n[i]-n[i-1]),0!==c&&(u=c>0?-1:1)}r/=n.length,y.moveEnd(t,r,u,e,s,m),x=!1,s+m>4&&b.one("click",function(t){t.preventDefault()})};b.bind(p,k)}i=i||{};var h=i.namespace||"touchslider",f=t(i.container);if(1!==f.length)return void f.each(function(){touchSlider({container:this})});i=t.extend({autoplay:!1,delay:3e3,margin:5,viewport:"."+h+"-viewport",prev:"."+h+"-prev",next:"."+h+"-next",pagination:"."+h+"-nav-item",currentClass:h+"-nav-item-current",duration:350,mouseTouch:!0},i);var m={current:0,step:o,next:r,prev:a,start:u,stop:c},d="ontouchstart"in window&&"WebKitCSSMatrix"in window,p="touchstart",g="touchmove",v="touchend",b=t(i.viewport,f),$=i.scroller?t(i.scroller,f):b.children(),_=$.children(),w=t(i.pagination,f);if("absolute"!==$.css("position")){var M=b.height();b.css({height:M,position:"relative"}),$.css({position:"absolute",left:0,height:M,width:1e5})}d||(p="mousedown",g="mousemove",v="mouseup"),_.css("position","absolute");var k=d?function(t,i,n){return i===e?new WebKitCSSMatrix(getComputedStyle(t.jquery?t[0]:t).webkitTransform).e:void t.css({webkitTransitionDuration:n?n+"ms":"0",webkitTransform:function(t){return"translate3d("+("number"==typeof i?i:i.call(this,t))+"px,0,0)"}})}:function(t,i){return i===e?parseInt((t.jquery?t[0]:t).style.left,10):void t.css("left",i)};d&&_.css({webkitTransitionProperty:"-webkit-transform",webkitTransitionTimingFunction:"cubic-bezier(0,0,0.25,1)"}),k(_.not(_[0]),1e4),k(_.eq(0),0);var y=function(){var o=[0],r=[0],a=t.noop;return{moving:!1,init:function(){$.bind("webkitTransitionEnd",function(){a()})},to:function(u,c){c=c||{},u>=_.length?u=0:0>u&&(u=_.length-1);var l=i.duration,h=_.eq(u),f=t.inArray(u,o),p=0;if($.stop(),y.moving=!0,clearTimeout(C),-1!==f)p=r[f];else{var g,v=_.index(h);if(f=e,-1===c.dirX)r.unshift(0),o.unshift(v);else if(1===c.dirX)r.push(0),o.push(v);else{for(g=o.length-1;g>=0;g--)if(o[g]<v){r.splice(g+1,0,0),o.splice(g+1,0,v),f=0;break}f===e&&(r.unshift(r),o.unshift(v))}if(f=t.inArray(v,o),0===f)p=r[1]-(h.outerWidth()+i.margin),k(h,p),r[f]=p;else if(f===o.length-1)p=r[f-1]+_.eq(o[f-1]).outerWidth()+i.margin,k(h,p),r[f]=p;else{var b=h.outerWidth();h.css("opacity",0),p=r[f+1]-Math.round((b+i.margin)/2),r[f]=p,k(h,p);var w=p,M=o.length;for(g=f-1;g>=0;g--)w-=_.eq(o[g]).outerWidth()+i.margin,r[g]=w;var x=p;for(g=f+1;M>g;g++)x+=_.eq(o[g]).outerWidth()+i.margin,r[g]=x;for(g=0;M>g;g++)_.eq(o[g]).animate({left:r[g]},{duration:l,queue:!1,complete:function(){h.is(this)&&h.animate({opacity:1},l)}})}}c.pxInMs&&(l=Math.min(Math.max(Math.round(Math.abs(k($))/c.pxInMs),100),l)),a=function(){k(_.not(h),-1e4),o=[_.index(h)],r=[p],c.complete&&c.complete(),y.moving=!1,s()},d?k($,-p,l):$.animate({left:-p},{duration:l,queue:!1,complete:a}),m.current=u,n(u)},stop:function(){d?k($,k($)):$.stop()},moveStart:function(t){y.moving=!0,clearTimeout(C),$.stop(),y.startPageX=t.pageX;var e,i=k($);y.leftCount=i,0===o[0]?r[0]+i>0&&(y.leftCount=i+3*(r[0]+i)):o[o.length-1]===_.length-1&&(e=r[o.length-1]+i,0>e&&(y.leftCount=i+3*e))},move:function(t,e){var n,a,s,u=t.pageX-e,c=k($),l=_.eq(o[0]),h=o.length-1,f=_.eq(o[h]);if(y.leftCount+=u,u>0)for(;0!==o[0]&&c+r[0]+u>i.margin;)n=_.eq(o[0]-1),a=r[0]-n.outerWidth()-i.margin,k(n,a),r.unshift(a),o.unshift(o[0]-1),h++,l=n;if((u>0&&c+r[0]+u>0||0>u&&c+r[0]>0)&&0===o[0]&&(s=Math.min(Math.round((y.leftCount+r[0])/4),b.innerWidth()/2),u=s-(c+r[0])),0>u)for(;!f.is(_.last())&&c+r[h]+u+f.outerWidth()+i.margin<b.innerWidth();)n=_.eq(o[h]+1),a=r[h]+f.outerWidth()+i.margin,k(n,a),r.push(a),o.push(o[h++]+1),f=n;(u>0&&c+r[h]<0||0>u&&c+r[h]+u<0)&&f.is(_.last())&&(s=Math.max(Math.round((y.leftCount+r[h])/4),-b.innerWidth()/2),u=s-(c+r[h])),k($,c+u)},moveEnd:function(t,e,i,n,a,s){var u,c=o.length,l=k($),h=c-1;if(r[0]+l>0)h=0;else if(!(r[o.length-1]+l<0)){u={pxInMs:e};var f,m,d=c-1,p=b.innerWidth();for(f=0;c-1>f;f++)if(m=r[f]+_.eq(o[f]).outerWidth()+l,m>0&&m>p-(r[f+1]+l)){d=f;break}if(x)h=d;else{var g=c-1,v=Math.round($.offset().left);for(f=0;c>f;f++)if(r[f]+v>t.pageX){g=f-1;break}h=d,d===g&&t.timeStamp-n<1e3&&a+s>.05*Math.sqrt(Math.pow(b.height(),2)+Math.pow(p,2))&&(h=Math.max(0,Math.min(c-1,h+i)))}}h=o[h],y.to(h,u)}}}();if(y.init(),d){var x=!1;$.bind("webkitTransitionStart",function(){x=!0}),$.bind("webkitTransitionEnd",function(){x=!1})}var C,S=!1,T=!1;b.hover(function(){clearTimeout(C),S=!0},function(){S=!1,s()}),w.click(function(){o(w.index(this))}),t(i.prev,f).click(function(){a()}),t(i.next,f).click(function(){r()}),i.mouseTouch&&l(),i.autoplay&&u(),f.data(h,m)},t.fn.touchSlider=function(t){return t=t||{},t.container=this,touchSlider(t),this}}(jQuery),$(document).ready(function(){$(".slider__slide-img").attr("src",function(t,e){$($(this).parent()).backstretch(e)}),$(".menu-catalog__item-img").attr("src",function(t,e){$($(this).parent()).backstretch(e)}),$(".popular__list-item-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".tips__tip-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".goods__photo-main-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".goods__photo-small-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".catalog__grid-item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".news__item-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),$(".searched__item-photo-img").attr("src",function(t,e){$($(this).parent()).css("backgroundImage","url("+e+")")}),function(){var t=$(".slider__slide"),e=$(".slider__controls-list-item"),i=t.size();e.css("width",100/i+"%"),e.each(function(t){t>=i&&$(this).css("display","none")})}(),$(".popular__list").mixItUp({animation:{duration:400,effects:"fade translateZ(-360px) stagger(34ms)",easing:"ease"},selectors:{target:".popular__list-item-col",filter:".popular__controls-btn"},layout:{display:"inline-block"},load:{filter:".category-2"}}),$("#slides-container").slick({speed:150,fade:!0,slide:".slider__slide",infinite:!0,autoplay:!0,autoplaySpeed:5e3,onAfterChange:function(t,e){$(".slider__controls-list-item").removeClass("active"),$($(".slider__controls-list-item")[e]).addClass("active")}}),$(".slider__controls-list-item").each(function(t,e){$(e).click(function(){$(".slider__controls-list-item").removeClass("active"),$(this).addClass("active"),$("#slides-container").slickGoTo(t)})})});